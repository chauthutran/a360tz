
{"system":{"id":"clone.psi-mis.org","rev":"2db4ef1","version":"2.25","date":"2018-05-10T05:08:52.129"},"sqlViews":[
{"created":"2018-05-10T05:06:46.211","lastUpdated":"2018-05-10T05:06:46.212","name":"TZA360_Get Event Participant list","id":"uGUsRj6UBG8","sqlQuery":"\r\nselect \r\n( select value from psi_view_psi_view_trackedentityattributevalue _teav\r\n\t\t\t\tINNER JOIN psi_view_trackedentityattribute _tea on _tea.psi_view_trackedentityattributeid=_teav.psi_view_trackedentityattributeid\r\n\t\t\t\tINNER JOIN trackedentityinstance _tei on _tei.trackedentityinstanceid=_teav.trackedentityinstanceid\r\n\t\t\twhere pi.trackedentityinstanceid=_tei.trackedentityinstanceid\r\n\t\t\t\t\tand _tea.uid='mW2l3T2zL0N' ) as firstname\r\n, ( select value from psi_view_psi_view_trackedentityattributevalue _teav\r\n\t\t\t\tINNER JOIN psi_view_trackedentityattribute _tea on _tea.psi_view_trackedentityattributeid=_teav.psi_view_trackedentityattributeid\r\n\t\t\t\tINNER JOIN trackedentityinstance _tei on _tei.trackedentityinstanceid=_teav.trackedentityinstanceid\r\n\t\t\twhere pi.trackedentityinstanceid=_tei.trackedentityinstanceid\r\n\t\t\t\t\tand _tea.uid='mUxDHgywnn2' ) as lastname\r\n, ( select value from psi_view_psi_view_trackedentityattributevalue _teav\r\n\t\t\t\tINNER JOIN psi_view_trackedentityattribute _tea on _tea.psi_view_trackedentityattributeid=_teav.psi_view_trackedentityattributeid\r\n\t\t\t\tINNER JOIN trackedentityinstance _tei on _tei.trackedentityinstanceid=_teav.trackedentityinstanceid\r\n\t\t\twhere pi.trackedentityinstanceid=_tei.trackedentityinstanceid\r\n\t\t\t\t\tand _tea.uid='wSp6Q7QDMsk' ) as birthdate\r\n, ( select value from trackedentitydatavalue _tedv \r\n\t\t\t\tINNER JOIN dataelement _de on _de.dataelementid=_tedv.dataelementid\r\n\t\twhere _tedv.programstageinstanceid=psi.programstageinstanceid\r\n\t\t\t\t\tand _de.uid='HzngfV7q0J5' ) -- CheckedIn DE\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\nfrom program prg \r\ninner join programstage stage on stage.programid = prg.programid\r\ninner join programstageinstance psi on psi.programstageid = stage.programstageid and stage.uid = 'G3HhsA7BiNs'  -- CwS - Client program\r\ninner join programinstance pi on pi.programinstanceid = psi.programinstanceid\r\ninner join trackedentitydatavalue tedv on tedv.programstageinstanceid = psi.programstageinstanceid\r\ninner join dataelement de on de.dataelementid = tedv.dataelementid and de.uid='jjhgtSl7tlA'  -- == EventType DE\r\nwhere tedv.value = 'GSE'\r\nand psi.executiondate > '2018-01-01' and psi.executiondate < '2018-01-03' -- get event in 2018-01-02 because of timestamp\r\nand psi.programstageinstanceid in \r\n\t( select _tedv.programstageinstanceid \r\n\tfrom trackedentitydatavalue _tedv \r\n\t\tinner join dataelement _de on _de.dataelementid = _tedv.dataelementid and _de.uid='Uw0LqwBvQGD'  -- == EventId DE\r\n\twhere _tedv.programstageinstanceid = psi.programstageinstanceid and _tedv.value = '${eventId}' )\r\n\r\n","displayName":"TZA360_Get Event Participant list","publicAccess":"rw------","description":"","type":"QUERY","externalAccess":false,"cacheStrategy":"RESPECT_SYSTEM_SETTING","access":{"read":true,"update":true,"externalize":true,"delete":true,"write":true,"manage":true},"user":{"id":"tVRIUAq9yAL"},"userGroupAccesses":[],"attributeValues":[],"translations":[]}
, {"created":"2018-05-14T05:21:30.060","lastUpdated":"2018-05-14T05:21:30.060","name":"TZA360_Search Client TEI by Voucher","href":"https://clone.psi-mis.org/api/sqlViews/mjYch20FauH","id":"mjYch20FauH","sqlQuery":"select tei.uid\r\n, ( select value from psi_view_trackedentityattributevalue _teav\r\n\t\t\t\tINNER JOIN psi_view_trackedentityattribute _tea on _tea.trackedentityattributeid=_teav.trackedentityattributeid\r\n\t\t\twhere tei.trackedentityinstanceid=_teav.trackedentityinstanceid and rltship.trackedEntityInstanceB\r\n\t\t\t\t\tand _tea.uid='mW2l3T2zL0N' ) as firstname\r\n, ( select value from psi_view_trackedentityattributevalue _teav\r\n\t\t\t\tINNER JOIN psi_view_trackedentityattribute _tea on _tea.trackedentityattributeid=_teav.trackedentityattributeid\r\n\t\t\twhere tei.trackedentityinstanceid=_teav.trackedentityinstanceid and rltship.trackedEntityInstanceB\r\n\t\t\t\t\tand _tea.uid='mUxDHgywnn2' ) as lastname\r\n, tei.created\r\n\t\t\t\t\t\t\t\r\nfrom programstage stage\r\ninner join programstageinstance psi on psi.programstageid = stage.programstageid and stage.uid = 'm0Btps6lG5R'  -- CwS - Client program\r\ninner join programinstance pi on pi.programinstanceid = psi.programinstanceid\r\ninner join trackedentityinstance tei on tei.trackedentityinstanceid = pi.trackedentityinstanceid\r\ninner join psi_view_trackedentityattributevalue tedv on tedv.trackedentityinstanceid = tei.trackedentityinstanceid and tedv.value='${voucherCode}'\r\ninner join relationship rltship on rltship.trackedEntityInstanceA = tei.uid\r\n\r\n","displayName":"TZA360_Search Client TEI by Voucher","publicAccess":"rw------","description":"","type":"QUERY","externalAccess":false,"cacheStrategy":"RESPECT_SYSTEM_SETTING","access":{"read":true,"update":true,"externalize":true,"delete":true,"write":true,"manage":true},"user":{"id":"tVRIUAq9yAL"},"userGroupAccesses":[],"attributeValues":[],"translations":[]}
]}

